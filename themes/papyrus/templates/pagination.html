{% macro page_range(current_page, total_pages, window=2) %}
  {# 计算分页范围：前后 window 页 #}
  {% set start = current_page - window %}
  {% set end = current_page + window %}

  {% if start < 1 %}
    {% set end = end + (1 - start) %}
    {% set start = 1 %}
  {% endif %}

  {% if end > total_pages %}
    {% set start = start - (end - total_pages) %}
    {% set end = total_pages %}
  {% endif %}

  {% if start < 1 %}
    {% set start = 1 %}
  {% endif %}

  {# 返回实际页码列表 #}
  {% for i in range(start, end + 1) %}
    <li><a class="{% if i == current_page %}text-white bg-indigo-600{% endif %} inline-flex items-center justify-center size-10 border border-gray-300 font-semibold" href="{{ SITEURL }}/{{ articles_paginator.page(i).url }}">{{ i }}</a></li>
  {% endfor %}
{% endmacro %}
{% if articles_page and articles_paginator.num_pages > 1 %}
{% set first_page = articles_paginator.page(1) %}
{% set last_page = articles_paginator.page(articles_paginator.num_pages) %}
<ol class="flex -space-x-px justify-center">
    <!-- <li>
        <a href="{{ SITEURL }}/{{ first_page.url }}" class="inline-flex justify-center items-center border border-gray-300 size-10 {% if articles_page.number == 1 %}text-zinc-300 dark:text-zinc-800 cursor-not-allowed pointer-events-none{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd" d="M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z" clip-rule="evenodd" />
            <path fill-rule="evenodd" d="M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z" clip-rule="evenodd" />
            </svg>
        </a>
    </li> -->
    <li>
        <a href="{{ SITEURL }}/{{ articles_previous_page.url }}" class="inline-flex items-center justify-center size-10  border border-gray-300 {% if not articles_page.has_previous() %}text-zinc-300 dark:text-zinc-800 cursor-not-allowed pointer-events-none{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                <path fill-rule="evenodd" d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z" clip-rule="evenodd" />
            </svg>
        </a>
    </li>
    {{ page_range(articles_page.number, articles_paginator.num_pages, 2) }}
    <li>
        <a href="{{ SITEURL }}/{{ articles_next_page.url }}" class="inline-flex items-center justify-center size-10 border border-gray-300 {% if not articles_page.has_next() %}text-zinc-300 dark:text-zinc-800 cursor-not-allowed pointer-events-none{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                <path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd" />
            </svg>
        </a>
    </li>
    <!-- <li>
        <a href="{{ SITEURL }}/{{ last_page.url }}" class="inline-flex items-center justify-center size-10 border border-gray-300 {% if articles_page.number == articles_paginator.num_pages %}text-zinc-300 dark:text-zinc-800 cursor-not-allowed pointer-events-none{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd" d="M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd" />
            <path fill-rule="evenodd" d="M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd" />
            </svg>
        </a>
    </li> -->
</ol>
{% endif %}